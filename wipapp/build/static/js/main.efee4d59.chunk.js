(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(26),r=n.n(c),i=(n(44),n(45),n(16)),o=n(2),l=n(0),d=function(){return Object(l.jsx)("nav",{style:{height:80},className:"card-panel cyan",children:Object(l.jsxs)("div",{className:"nav-wrapper",children:[Object(l.jsx)(i.b,{to:"/",className:"brand-logo"}),Object(l.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/shop"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/about"})})]})]})})},u=n(11),p=n(12),h=n(14),j=n(13),b=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(l.jsx)("p",{children:"Demo Chatbot "})}}]),n}(a.a.Component),m=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"About our services and products"}),"Background of Services"]})},f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h6",{style:{color:"Black",backgroundColor:"lightyellow",padding:"10px",fontFamily:"Arial"},children:"Craving for something?"}),Object(l.jsx)("p",{children:"These all our the varieties of our list of food that we have."})]})}}]),n}(a.a.Component),x=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:"Shipping"}),Object(l.jsx)(f,{})]})},g=n(38),O=n(4),v=n.n(O),y=n(23),k=n(10),w=n(9),N=n(15),I=n.n(N),P=n(39),C=n(79),T=(n(74),function(e){var t=function(e){document.getElementById("user_says").innerHTML="",document.getElementById("user_says").value=e.target.innerHTML};return Object(l.jsx)("div",{className:"chatbot-outer-frame",children:Object(l.jsx)("div",{className:"chatbot-inner-frame",children:Object(l.jsxs)("div",{children:["h"===e.speaks&&Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"/",children:e.speaks})}),Object(l.jsx)("div",{children:Object(l.jsx)("span",{children:e.text})}),"z"===e.speaks&&Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"/",children:e.speaks})}),e.opt?e.opt.map((function(e){return Object(l.jsx)("button",{style:{width:"200px",marginTop:"5px",marginLeft:"5px",marginBottom:"5px",textAlign:"center",fontWeight:"bold",fontSize:10},type:"button",onClick:t,className:"btn btn-secondary ",children:e},e)})):null]})})})}),S=function(e){return Object(l.jsx)("div",{style:{height:270,paddingRight:30,float:"left"},children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("div",{className:"card-image",style:{width:240},children:[Object(l.jsx)("img",{alt:e.payload.fields.header.stringValue,src:e.payload.fields.image.stringValue}),Object(l.jsx)("span",{className:"card-title",children:e.payload.fields.header.stringValue})]}),Object(l.jsxs)("div",{className:"card-content",children:[e.payload.fields.description.stringValue,Object(l.jsxs)("p",{children:[" ",Object(l.jsx)("a",{href:"/",children:e.payload.fields.price.stringValue})]})]}),Object(l.jsx)("div",{className:"card-action",children:Object(l.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e.payload.fields.link.stringValue,children:"GET NOW"})})]})})},B=function(e){return e.reply.structValue.fields.payload?Object(l.jsx)("a",{style:{margin:1,backgroundColor:"black",fontSize:"7px",paddingLeft:"10px"},href:"/",className:"waves-effect waves-light btn flat",onClick:function(t){return e.click(t,e.reply.structValue.fields.payload.stringValue,e.reply.structValue.fields.text.stringValue)},children:e.reply.structValue.fields.text.stringValue}):Object(l.jsx)("a",{style:{margin:3,backgroundColor:"black",fontSize:"7px",paddingLeft:"10px",paddingTop:"6px",fontWeight:"bold"},href:e.reply.structValue.fields.link.stringValue,className:"btn-floating btn-large waves-effect waves-light red",children:e.reply.structValue.fields.text.stringValue})},E=(s.Component,n(75),n(22));var L=function(){var e=Object(s.useState)(!1),t=Object(E.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(E.a)(c,2),i=r[0],o=r[1],d="",u="",p="",h=function(e){d=e.target.value},j=function(e){u=e.target.value},b=function(){var e=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I.a.post("http://127.0.0.1:8000/wipchat/login/",{username:d,password:u}).then((function(e){localStorage.setItem("Token",e.data.token.access),document.getElementById("message").innerHTML="LogIn Done SuccessFully ! Please Proceed to Asked Questions",a(!1),o(!1)})).catch((function(e){404==e.response.status&&(document.getElementById("message").innerHTML="LogIn Failed Due To Invalid Credentials Please Try Again.")}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,I.a.post("http://127.0.0.1:8000/wipchat/register/",{email:p,username:d,password:u}).then((function(e){!0===e.data.status?(a(!0),o(!1),document.getElementById("message").innerHTML="Registration Done Successfully. Please Proceed With Log In !"):document.getElementById("message").innerHTML="Please Provide Valid Email And Password!"})).catch((function(e){document.getElementById("message").innerHTML=e}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(!0),o(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(k.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(!1),o(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{style:{marginLeft:"14px",padding:"10px",display:"flex"},children:[Object(l.jsx)("button",{type:"button",onClick:f,className:"btn btn-secondary btn-block",children:"LOGIN"}),Object(l.jsx)("button",{type:"button",onClick:x,style:{marginLeft:"10px"},className:"btn btn-secondary btn-block",children:"REGISTER"})]}),Object(l.jsx)("div",{id:"message",style:{color:"green",marginTop:"5px",marginLeft:"22px",marginBottom:"10px"}})]}),n?Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"form-box",children:Object(l.jsx)("div",{className:"body-form",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"Please insert your username ?"})}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Username",onChange:h})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"Please Insert Your Password ?"})}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Password",onChange:j})]}),Object(l.jsx)("button",{type:"button",onClick:b,className:"btn btn-secondary btn-block",children:"LOGIN"})]})})})}):null,i?Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"form-box",children:Object(l.jsx)("div",{className:"body-form",children:Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"Please insert your Email ?"})}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"email",onChange:function(e){p=e.target.value}})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"Please Insert Your Username ?"})}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"username",onChange:h})]}),Object(l.jsxs)("div",{className:"input-group mb-3",children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("span",{className:"input-group-text",children:"Please Insert Your Password ?"})}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"password",onChange:j})]}),Object(l.jsx)("button",{type:"button",onClick:m,className:"btn btn-secondary btn-block",children:"REGISTER"})]})})})}):null]})};var _=function(){var e=a.a.useState(""),t=Object(E.a)(e,2),n=(t[0],t[1]);function s(e){var t,n,s,a=new FormData;a.append("file",e),t="multipart/form-data",n=a,s=function(e){return console.log(e)},I()({url:"".concat("http://127.0.0.1:8000","/wipchat/fileupload/"),method:"POST",data:n,headers:{"Content-Type":t,Authorization:"Bearer ".concat(localStorage.getItem("Token"))}}).then((function(e){s(e.data),document.getElementById("filemessage").innerHTML=e.data.response,document.getElementById("file").value=""})).catch((function(e){document.getElementById("filemessage").innerHTML="Problem In File Uploaded, Dont Forget to LogIn !",document.getElementById("file").value="",s("error")}))}return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{id:"file",style:{display:"inline-block",alignItems:"flex-start"},type:"file",onChange:function(e){n(e.target.files[0]),s(e.target.files[0])}}),Object(l.jsx)("div",{id:"filemessage"})]})},D=(n(76),new P.a),V=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e))._handleInputKeyPress=s._handleInputKeyPress.bind(Object(w.a)(s)),s._handleQuickReplyPayload=s._handleQuickReplyPayload.bind(Object(w.a)(s)),s.hide=s.hide.bind(Object(w.a)(s)),s.show=s.show.bind(Object(w.a)(s)),s.state={messages:[],showBot:!0,shopWelcomeSent:!1},void 0===D.get("userID")&&D.set("userID",Object(C.a)(),{path:"/"}),s}return Object(p.a)(n,[{key:"df_text_query",value:function(){var e=Object(k.a)(v.a.mark((function e(t){var n,s,a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,s={headers:{Authorization:"Bearer ".concat(localStorage.getItem("Token"))}},a={speaks:"user",msg:{text:{text:t},auth:!1}},c={},this.setState({messages:[].concat(Object(y.a)(this.state.messages),[a])}),e.next=7,I.a.post("http://127.0.0.1:8000/wipchat/askme/",{msg:t},s).then((function(e){if("object"===typeof e.data.response)if(Object.keys(e.data.response).length>2)for(var t in e.data.response)c[t]={speaks:"bot",msg:{text:{text:e.data.response[t].text},opt:e.data.response[t].opt,auth:!1}};else a={speaks:"bot",msg:{text:{text:e.data.response.res},opt:e.data.response.opt,auth:!1}};else a={speaks:"bot",msg:{text:{text:e.data.response},auth:!1}}})).catch((function(e){401==e.response.status&&(a={speaks:"bot",msg:{text:{text:"Please sign in with your email or register if you have not registered yet"},auth:!0}},n=!0)}));case 7:if(e.sent,Object.keys(c).length>1&&!1===n)for(r in c)this.setState({messages:[].concat(Object(y.a)(this.state.messages),[c[r]])});else this.setState({messages:[].concat(Object(y.a)(this.state.messages),[a])});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"df_event_query",value:function(){var e=Object(k.a)(v.a.mark((function e(t){var n,s,a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/df_event_query",{event:t,userID:D.get("userID")});case 2:n=e.sent,s=Object(g.a)(n.data.fulfillmentMessages);try{for(s.s();!(a=s.n()).done;)c=a.value,r={speaks:"bot",msg:c},this.setState({messages:[].concat(Object(y.a)(this.state.messages),[r])})}catch(i){s.e(i)}finally{s.f()}case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resolveAfterXSeconds",value:function(e){return new Promise((function(t){setTimeout((function(){t(e)}),5e3*e)}))}},{key:"componentDidMount",value:function(){var e=Object(k.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.messagesEnd.scrollIntoView({behavior:"smooth"}),this.talkInput&&this.talkInput.focus()}},{key:"show",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({showBot:!0})}},{key:"hide",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({showBot:!1})}},{key:"_handleQuickReplyPayload",value:function(e,t,n){e.preventDefault(),e.stopPropagation()}},{key:"renderCards",value:function(e){return e.map((function(e,t){return Object(l.jsx)(S,{payload:e.structValue},t)}))}},{key:"renderOneMessage",value:function(e,t){return e.msg.opt?Object(l.jsx)(T,{speaks:e.speaks,text:e.msg.text.text,opt:e.msg.opt,df_text_query:this.df_text_query},t):e.msg&&e.msg.text&&e.msg.text.text?!1===e.msg.auth?Object(l.jsx)(T,{speaks:e.speaks,text:e.msg.text.text},t):Object(l.jsxs)("div",{children:[Object(l.jsx)(T,{speaks:e.speaks,text:e.msg.text.text},t),Object(l.jsx)(L,{})]},t):void 0}},{key:"renderMessages",value:function(e){var t=this;return e?e.map((function(e,n){return t.renderOneMessage(e,n)})):null}},{key:"_handleInputKeyPress",value:function(e){"Enter"===e.key&&(this.df_text_query(e.target.value),e.target.value="")}},{key:"render",value:function(){var e=this;return this.state.showBot?Object(l.jsxs)("div",{className:"chatbot-box",children:[Object(l.jsxs)("div",{className:"chatbot-box-header",children:[Object(l.jsxs)("div",{className:"chatbot-box-logo",children:[Object(l.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/2706/2706950.png",alt:"",width:"42",height:"45"}),Object(l.jsx)("img",{src:"/images/green-online-circle.png",alt:"",width:"10",height:"10",style:{position:"absolute",right:267,bottom:425}})]}),Object(l.jsx)("div",{className:"chatbot-box-description",children:Object(l.jsx)("span",{className:"chatbot--bot--name",children:"Bot Online Assistant"})}),Object(l.jsxs)("div",{className:"chatbot-box-options",children:[Object(l.jsx)("a",{href:"/",children:Object(l.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/25/25429.png",alt:"",width:"20",height:"20"})}),Object(l.jsx)("a",{href:"/",onClick:this.hide,children:Object(l.jsx)("img",{src:"https://cdn-icons.flaticon.com/png/128/2821/premium/2821377.png?token=exp=1648711979~hmac=4aa6630a1f9413dab0d67502551cde0d",alt:"",width:"20",height:"20"})}),Object(l.jsxs)("a",{href:"https://www.wipdata.com/",style:{position:"absolute",right:6,bottom:410,fontSize:"7px",color:"white"},children:["POWERED BY WIPDATA ",Object(l.jsx)("img",{src:"https://www.wipdata.com/wp-content/uploads/2019/09/5.png",alt:"",width:"10",height:"10"})]})]})]}),Object(l.jsxs)("div",{id:"chatbot",style:{height:371,width:"100%",overflow:"auto"},children:[this.renderMessages(this.state.messages),Object(l.jsx)("div",{ref:function(t){e.messagesEnd=t},style:{float:"left"}})]}),Object(l.jsxs)("div",{style:{display:"inline-block"},children:[Object(l.jsx)("input",{style:{height:"50px",width:"100%",backgroundColor:"whitesmoke",borderRadius:"0px 0px 10px 10px"},ref:function(t){e.talkInput=t},placeholder:"Type a message:",onKeyPress:this._handleInputKeyPress,id:"user_says",type:"text"}),Object(l.jsx)(_,{})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{style:{position:"absolute",bottom:0,right:15},children:Object(l.jsxs)("a",{href:"/",onClick:this.show,children:[" ",Object(l.jsx)("img",{src:"https://img.icons8.com/color/2x/chat.png",style:{width:"50px"}})]})}),Object(l.jsx)("div",{ref:function(t){e.messagesEnd=t},style:{float:"left",clear:"both"}})]})}}]),n}(s.Component),M=Object(o.e)(V),A=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)(o.a,{exact:!0,path:"/",component:b}),Object(l.jsx)(o.a,{exact:!0,path:"/about",component:m}),Object(l.jsx)(o.a,{exact:!0,path:"/shop",component:x}),Object(l.jsx)(M,{})]})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(A,{})}),document.getElementById("root")),R()}},[[77,1,2]]]);
//# sourceMappingURL=main.efee4d59.chunk.js.map